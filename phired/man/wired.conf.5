.\" wired.conf.5
.\"
.\" Copyright (c) 2003-2007 Axel Andersson
.\" All rights reserved.
.\"
.\" Redistribution and use in source and binary forms, with or without
.\" modification, are permitted provided that the following conditions
.\" are met:
.\" 1. Redistributions of source code must retain the above copyright
.\"    notice, and the entire permission notice in its entirety,
.\"    including the disclaimer of warranties.
.\" 2. Redistributions in binary form must reproduce the above copyright
.\"    notice, this list of conditions and the following disclaimer in the
.\"    documentation and/or other materials provided with the distribution.
.\"
.\" THIS SOFTWARE IS PROVIDED ``AS IS'' AND ANY EXPRESS OR IMPLIED WARRANTIES,
.\" INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY
.\" AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED.  IN NO EVENT SHALL
.\" MARCUS D. WATTS OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT,
.\" INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING,
.\" BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS
.\" OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND
.\" ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR
.\" TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE
.\" USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
.\"
.Dd May 27, 2007
.Dt WIRED.CONF 5
.Os
.Sh NAME
.Nm wired.conf
.Nd
.Xr wired 8
configuration file
.Sh DESCRIPTION
.Nm wired.conf
is the
.Xr wired 8
configuration file. It consists of keywords and arguments in a
.Sq key = value
format, separated by newlines. Lines starting with
.Sq #
are ignored.
.Pp
Paths are interpreted as absolute if they begin with a
.Sq / ,
otherwise they are relative to the server root. Boolean values should be either
.Sq yes
or
.Sq no .
.Pp
The possible keywords and their meanings are as follows:
.Bl -tag -width
.It Va address
A specific address, host name or interface name to bind to, instead of binding to all available addresses. Can be specified more than once, for each address the server should listen on.
.Pp
Example: address = 127.0.0.1, address = localhost, address = eth0
.It Va ban time
Number of seconds a temporary ban lasts.
.Pp
Example: ban time = 1800
.It Va bandwidth
Connection bandwidth in bytes/sec. Sent to trackers on registration.
.Pp
Example: bandwidth = 64000
.It Va banlist
Path to the banlist file. Its format is described in
.Xr wired 8 .
.Pp
Example: banlist = banlist
.It Va banner
Path to an image file that will be sent to clients as the banner. PNG file format is recommended. Maximum image size is 200x32 pixels.
.Pp
Example: banner = banner.png
.It Va certificate
Path to an OpenSSL certificate PEM file. It can be generated by the OpenSSL
.Xr req 1
program.
.Pp
Example: certificate = etc/certificate.pem
.It Va client downloads
Maximum number of downloads per client.
.Pp
Example: client downloads = 1
.It Va client uploads
Maximum number of uploads per client.
.Pp
Example: client uploads = 1
.It Va control cipher
An OpenSSL cipher list to use for the control connection. Its format is described in the OpenSSL
.Xr ciphers 1
program.
.Pp
Example: control cipher = ALL:NULL:!MD5:@STRENGTH
.It Va description
A short description of the server.
.Pp
Example: description = My Wired Server
.It Va files
Path to the files directory.
.Pp
Example: files = files
.It Va group
Name or id of the group that
.Xr wired 8
should operate as.
.Pp
Example: group = daemon
.It Va groups
Path to the groups file. Its format is described in
.Xr wired 8 .
.Pp
Example: groups = groups
.It Va idle time
Number of seconds after which to mark inactive clients as idle.
.Pp
Example: idle time = 600
.It Va ignore expression
A regular expression of patterns to ignore in file listings. Its format is described in
.Xr re_format 7 .
.Pp
Example: ignore expression = /CVS/
.It Va index
Path to an index file. If it is defined,
.Nm wired
will generate an index of all files.
.Pp
Example: index = files.index
.It Va index time
If set, indexes files after this many seconds. Without it, no automatic indexing takes place.
.Pp
Example: index time = 3600
.It Va name
Name of the server.
.Pp
Example: name = Wired Server
.It Va news
Path to a news file.
.Pp
Example: news = news
.It Va news limit
If set, the news file will be truncated after this many entries.
.Pp
Example: news limit = 100
.It Va pid
Path to a file in which to place the process id of the running
.Xr wired 8
daemon.
.Pp
Example: pid = wired.pid
.It Va port
Port number to listen on.
.Pp
Example: port = 2000
.It Va register
If set, registers with all configured trackers.
.Pp
Example: register = yes
.It Va search method
Method to use for client file searches. Can be either "live" for live search or "index" for indexed ones. If set to search the index, make sure the index has been enabled.
.Pp
Example: search method = index
.It Va show dot files
If set, file listings will include files beginning with a `.'.
.Pp
Example: show dot files = no
.It Va show invisible files
If set, file listings will include files that are marked invisible by Mac OS. Only available on Mac OS X.
.Pp
Example: show invisible files = no
.It Va status
Path to a file in which to place the current status. Its file format is described in
.Xr wired 8 .
.Pp
Example: status = wired.status
.It Va total downloads
Maximum number of downloads across all clients.
.Pp
Example: total downloads = 10
.It Va total download speed
Maximum speed of downloads in bytes/sec.
.Pp
Example: total download speed = 64000
.It Va total uploads
Maximum number of uploads across all clients.
.Pp
Example: total uploads = 10
.It Va total upload speed
Maximum speed of upload in bytes/sec.
.Pp
Example: total upload speed = 64000
.It Va tracker
A URL of a tracker to register with. The tracker is connected to at startup, and then periodically informed with status updates. The path of the URL is the category to register as. Can be specified more than once, for each tracker that the server should register with.
.Pp
Example: tracker = wiredtracker://my.tracker.com/Regional/Europe
.It Va transfer cipher
An OpenSSL cipher list to use for the control connection. Its format is described in the OpenSSL
.Xr ciphers 1
program.
.Pp
Example: transfer cipher = ALL:NULL:!MD5:@STRENGTH
.It Va url
The URL of this server to send to trackers. If this does not resolve back to the address the server is connecting from, the tracker may rewrite the URL or deny registration altogether.
.Pp
Example: wired://my.server.com/
.It Va user
Name or id of the user that
.Xr wired 8
should operate as.
.Pp
Example: user = wired
.It Va users
Path to the users file. Its format is described in
.Xr wired 8 .
.Pp
Example: users = users
.It Va zeroconf
If set, enables the use of Zeroconf service publication to allow clients on the local network to automatically find the server.
.Pp
Example: zeroconf = yes
.El
.Sh AUTHORS
.Nm wired
and the Wired protocol were developed by Axel Andersson, Zanka Software.
.Sh SEE ALSO
.Xr wired 8 ,
.Xr wiredctl 1
